<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω ph√≤ng ban</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üè¢ Qu·∫£n l√Ω ph√≤ng ban</h1>
    </div>

    <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <!-- Form th√™m ph√≤ng ban -->
    <form th:action="@{/phongban/add}" method="post" class="form-group" style="max-width: 400px;">
        <label>T√™n ph√≤ng ban m·ªõi</label>
        <div style="display: flex; gap: 10px;">
            <input type="text" name="deptName" placeholder="VD: Khoa CNTT" required>
            <button type="submit" class="btn">‚ûï Th√™m</button>
        </div>
    </form>

    <!-- Danh s√°ch ph√≤ng ban -->
    <table class="table">
        <thead>
        <tr>
            <th>ID</th>
            <th>T√™n ph√≤ng ban</th>
            <th>H√†nh ƒë·ªông</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="dept : ${depts}">
            <td th:text="${dept.deptId}">1</td>
            <td>
                <form th:action="@{/phongban/update}" method="post" style="display: inline;">
                    <input type="hidden" name="deptId" th:value="${dept.deptId}">
                    <input type="text" name="deptName" th:value="${dept.deptName}" style="width: 200px;">
                    <button type="submit" class="btn" style="padding: 4px 8px;">L∆∞u</button>
                </form>
            </td>
            <td>
                <a th:href="@{/phongban/delete/{id}(id=${dept.deptId})}"
                   class="btn btn-red"
                   onclick="return confirm('X√≥a ph√≤ng ban n√†y? (S·∫Ω x√≥a t·∫•t c·∫£ gi·∫£ng vi√™n trong ph√≤ng ban!)')">X√≥a</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>